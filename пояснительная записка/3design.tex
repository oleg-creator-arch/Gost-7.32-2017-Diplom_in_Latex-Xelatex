\section{Проектирование информационной системы}

\subsection{Формирование параметров и требований к ИС}
%Представим перечни, которыми должны обладать разрабатываемая система.
Система должна выполнять перечень задач:
\begin{itemize}
	\item создание аккаунта любому пользователю, который так же может быть вне системы САО РАН, 
	\item создание блогов,
	\item создание и редактирование постов(оформление статей в блогах),
	\item приглашать других пользователей в качестве авторов,
	\item видеть список постов внутри блога,
	\item иметь возможность сохранить пост, чтобы позже его опубликовать. 
\end{itemize}

Из перечня задач сформируем требования к разрабатываемой системе:
\begin{itemize}
	\item создание и ведение личных(закрытых) блогов,
	\item создание блогов командой,
	\item ведение блогов командой,
	\item наличие удобного редактора для текста,
	\item сохранить пост, без его публикации. 
\end{itemize}

\subsection{Сравнение аналогов}
В сети Интернет уже давно развиваются разные системы с блогами, наиболее популярными системами являются Medium, Хабр и Blogger, рассмотрим их более подробно.

\pagebreak
\subsubsection{Medium}
Medium платформа для социальной журналистики, позволяет создавать аккаунты, писать стати так называемые <<Story>>, коллективные блоги называемые <<Publications>>, покажем на рисунке \ref{pic:medium} как выглядит главная страница платформы.

\addimghere{resources/medium}{0.9}{Главная страница Medium}{pic:medium}

Присутствует текстовый редактор, показан на рисунке \ref{pic:textmedium}, среднего качества. Нужно оформлять платную подписку, чтобы получить более полный функционал платформы.

\addimghere{resources/textmedium}{0.9}{Текстовый редактор платформы Medium}{pic:textmedium}

\subsubsection{Хабр}

Хабр платформа с тематическими командными блогами, где каждый может написать свою статью, покажем на рисунке \ref{pic:habr} как выглядит главная страница платформы.

\addimghere{resources/habr}{0.9}{Главная страница Хабр}{pic:habr}

Платформа позволяет зарегистрироваться и писать статьи по своей тематике, так называемые <<Хабы>>. От новых пользователей стати проходят модерацию. После того как пользователь покажет себя с хорошей стороны, ему станет доступен полный доступ, и новые статьи от него будут публиковаться сразу.

\pagebreak

Присутствует текстовый редактор, показан на рисунке \ref{pic:texthabr}, с возможностью форматирования специальный разметкой <<Markdown>>, что делает его понятным и удобным для пользователя.

\addimghere{resources/texthabr}{0.9}{Текстовый редактор платформы Хабр}{pic:texthabr}

Пользователь не может вести отдельный личный блог, без попадания его статьи в общие блоги. Ограничен список тематик на которые можно писать статьи из-за модерации, так как площадка позиционирует себя, по большей части, как техно-научная.

\pagebreak

\subsubsection{Blogger}

Blogger платформа специально предназначенная для ведения блогов, покажем на рисунке \ref{pic:blogger} как выглядит главная страница платформы.

\addimghere{resources/blogger}{1}{Главная страница платформы blogger}{pic:blogger}

Платформа позволяет быстро авторизоваться через Google-аккаунт и создавать свои блоги.

Присутствует текстовый редактор, показан на рисунке \ref{pic:texblogger}, понятный и удобный для пользователя с возможностью поиска совпадений.

\addimghere{resources/texblogger}{1}{Текстовый редактор платформы blogger}{pic:texblogger}

У платформы отсутствует возможность вести командные блоги.

Покажем результаты сравнения аналогов в таблице \ref{tabular:analogi}.

\begin{table}[H]
	\caption{Результат сравнения аналогов}
	\label{tabular:analogi}
	\begin{center}
		\begin{tabular}{|l|l|l|l|}
			\hline
			\multicolumn{1}{|c|}{Критерий}             & \multicolumn{1}{c|}{Medium} & \multicolumn{1}{c|}{Хабр} & \multicolumn{1}{c|}{Blogger} \\ \hline
			Создание и ведение личных(закрытых) блогов & +                           & -                         & +                            \\ \hline
			Создание блогов командой                   & +                           & -                         & -                            \\ \hline
			Ведение блогов командой                    & +                           & +                         & -                            \\ \hline
			Наличие удобного редактора для текста      & -                           & +                         & +                            \\ \hline
			Сохранить пост, без его публикации         & +                           & -                         & +                            \\ \hline
		\end{tabular}
	\end{center}
\end{table}
В результате анализа аналогов получили, что не одно из готовых платформ не подходит для наших целей следовательно нужно спроектировать и разработать информационную систему.

\pagebreak

\subsection{Проектирование информационной системы}

Покажем на рисунке \ref{pic:precedent} Use Case диаграмму прецедентов информационной системы, которая отобразить множество выполняемых системой функций и взаимодействия с ней пользователя. 
 
\addimghere{resources/precedent}{1}{Use Case диаграмма прецедентов ИС}{pic:precedent}

Из диаграммы видны действия, которые может выполнять пользователь в системе.

actor:
\begin{itemize}
	\item регистрация, чтобы получить расширенный функционал 
	\item просмотреть блог по ссылке, чтобы по полученной ссылке смотреть посты, для этого действие расширяется предоставлением каталогов постов в блоге.
\end{itemize}

\pagebreak

SuperActor потомок от actor:
\begin{itemize}   
	\item авторизоваться,
	\item создать блог, 
	\item управлять блогами, что включает в себя такие возможности как пригласить автора, создать, сохранить, изменить, опубликовать пост. 
\end{itemize}

Покажем на рисунке \ref{pic:erd} ERD диаграмму отношений сущностей, которая отобразить структуру базы данных и их отношение.

\addimghere{resources/erd}{1}{ERD диаграмма отношений сущностей БД}{pic:erd}

\pagebreak
В таблице Blogs храниться информация о блогах в системе, опишем сущность в таблице \ref{tabular:blogs}

\begin{table}[H]
	\caption{сущность Blogs}
	\label{tabular:blogs}
	\begin{center}
\begin{tabular}{|l|l|l|}
	\hline
	\multicolumn{1}{|c|}{Название поля} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}Тип\\ данных\end{tabular}} & \multicolumn{1}{c|}{Описание}     \\ \hline
	Id                                  & Integer                                                                   & Идентификатор блога               \\ \hline
	Title                               & String                                                                    & Отображаемый заголовок блога      \\ \hline
	Description                         & String                                                                    & Описание блога                    \\ \hline
	Type                                & Integer                                                                   & Тип блога                         \\ \hline
	IsPublic                            & Boolean                                                                   & Флаг публичности блога            \\ \hline
	OwnerId                             & Integer                                                                   & Идентификатор владельца блога     \\ \hline
	CreateDate                          & DateTime                                                                  & Дата создания блога               \\ \hline
	UpdateDate                          & DateTime                                                                  & Дата последнего изменения о блоге \\ \hline
	Name                                & String                                                                    & Уникальное имя блога              \\ \hline
\end{tabular}
	\end{center}
\end{table}



В таблице AuthorInvetes храниться информация для реализации возможности приглашать со авторов в командный блог, опишем сущность в таблице \ref{tabular:AuthorInvetes}

\begin{table}[H]
	\caption{сущность AuthorInvetes }
	\label{tabular:AuthorInvetes}
	\begin{center}
		\begin{tabular}{|l|l|l|}
			\hline
			\multicolumn{1}{|c|}{Название поля} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}Тип\\ данных\end{tabular}} & \multicolumn{1}{c|}{Описание}          \\ \hline
			Id                                  & Integer                                                                   & Идентификатор приглашения              \\ \hline
			SenderId                            & Integer                                                                   & Идентификатор отправителя              \\ \hline
			ReceiverId                          & Integer                                                                   & Идентификатор получателя               \\ \hline
			BlogId                              & Integer                                                                   & Идентификатор блога для приглашения    \\ \hline
			IsApprove                           & Boolean                                                                   & Флаг согласия получателя               \\ \hline
			IsSenderNotified                    & Boolean                                                                   & Флаг просмотра результата отправителем \\ \hline
			CreateDate                          & DateTime                                                                  & Дата создания                          \\ \hline
			ReceiverRespondDate                 & DateTime                                                                  & Дата ответа получателя                 \\ \hline
			SenderViewedDate                    & DateTime                                                                  & Дата просмотра ответа отправителем     \\ \hline
		\end{tabular}
	\end{center}
\end{table}




В таблице BlogAuthor храниться информация для создания командных блогов в системе, создает связь <<многие ко многим>> для сущностей Blogs и Users, опишем сущность в таблице \ref{tabular:BlogAuthor}

\begin{table}[H]
	\caption{сущность BlogAuthor}
	\label{tabular:BlogAuthor}
	\begin{center}
		\begin{tabular}{|l|l|l|}
			\hline
			\multicolumn{1}{|c|}{Название поля} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}Тип\\ данных\end{tabular}} & \multicolumn{1}{c|}{Описание} \\ \hline
			BlogId                              & Integer                                                                   & Идентификатор блога           \\ \hline
			AuthorId                            & Integer                                                                   & Идентификатор пользователя    \\ \hline
		\end{tabular}
	\end{center}
\end{table}




В таблице Users храниться информация о пользователях в системе, опишем сущность в таблице \ref{tabular:Users}

\begin{table}[H]
	\caption{сущность Users}
	\label{tabular:Users}
	\begin{center}
		\begin{tabular}{|l|l|l|}
			\hline
			\multicolumn{1}{|c|}{Название поля} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}Тип\\ данных\end{tabular}} & \multicolumn{1}{c|}{Описание}             \\ \hline
			Id                                  & Integer                                                                   & Идентификатор пользователя                \\ \hline
			FirstName                           & String                                                                    & Имя пользователя                          \\ \hline
			LastName                            & String                                                                    & Фамилия пользователя                      \\ \hline
			Username                            & String                                                                    & Логин пользователя в системе              \\ \hline
			Password                            & String                                                                    & Хэш пароля пользователя в системе         \\ \hline
			Email                               & String                                                                    & E-Mail пользователя                       \\ \hline
			IsActive                            & Boolean                                                                   & Флаг доступности учётной записи           \\ \hline
			IsBlocked                           & Boolean                                                                   & Флаг блокировки учётной записи            \\ \hline
			CreateDate                          & DateTime                                                                  & Дата создания учётной записи              \\ \hline
			UpdateDate                          & DateTime                                                                  & Дата последнего обновления учётной записи \\ \hline
			LastActive                          & DateTime                                                                  & Дата последней активности пользователя    \\ \hline
		\end{tabular}
	\end{center}
\end{table}



\pagebreak
В таблице Posts храниться информация о постах в системе, опишем сущность в таблице \ref{tabular:Posts}

\begin{table}[H]
	\caption{сущность Posts}
	\label{tabular:Posts}
	\begin{center}
		\begin{tabular}{|l|l|l|}
			\hline
			\multicolumn{1}{|c|}{Название поля} & \multicolumn{1}{c|}{\begin{tabular}[c]{@{}c@{}}Тип\\ данных\end{tabular}} & \multicolumn{1}{c|}{Описание}                  \\ \hline
			Id                                  & Integer                                                                   & Идентификатор поста                            \\ \hline
			Title                               & String                                                                    & Заголовок поста                                \\ \hline
			Description                         & String                                                                    & Описание поста                                 \\ \hline
			PostContent                         & String                                                                    & Содержимое поста                               \\ \hline
			IsPublished                         & Boolean                                                                   & Флаг публикации поста                          \\ \hline
			AuthorId                            & Integer                                                                   & Идентификатор автора поста                     \\ \hline
			BlogId                              & Integer                                                                   & Идентификатор блога, к которому относится пост \\ \hline
			CreateDate                          & DateTime                                                                  & Дата создания поста                            \\ \hline
			UpdateDate                          & DateTime                                                                  & Дата последнего изменения поста                \\ \hline
			PublishDate                         & DateTime                                                                  & Дата публикации поста                          \\ \hline
		\end{tabular}
	\end{center}
\end{table}

\pagebreak
Покажем на рисунке \ref{pic:activitinew} диаграмму активности процесса создания новой информации в открытом доступе, вместо создания новых страниц на сайте САО РАН.
\addimghere{resources/activitinew}{1}{диаграмма активности создания новой информации}{pic:activitinew}




\pagebreak